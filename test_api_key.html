<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini API Key Tester</title>
    <style>
        body {
            font-family: sans-serif;
            padding: 20px;
            line-height: 1.6;
        }

        input {
            padding: 10px;
            width: 400px;
            margin-right: 10px;
        }

        button {
            padding: 10px 20px;
            cursor: pointer;
        }

        pre {
            background: #f4f4f4;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }

        .error {
            color: red;
        }

        .success {
            color: green;
        }
    </style>
</head>

<body>
    <h1>Gemini API Key Tester</h1>
    <p>Please enter your API Key below to check which models you have access to. This runs directly in your browser.</p>

    <input type="password" id="apiKey" placeholder="AIzaSy...">
    <button onclick="checkModels()">Check Available Models</button>

    <div id="results" style="margin-top: 20px;"></div>

    <script>
        async function checkModels() {
            const apiKey = document.getElementById('apiKey').value.trim();
            const resultsDiv = document.getElementById('results');

            if (!apiKey) {
                resultsDiv.innerHTML = '<p class="error">Please enter an API Key.</p>';
                return;
            }

            resultsDiv.innerHTML = '<p>Checking...</p>';

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models?key=${apiKey}`);
                const data = await response.json();

                if (!response.ok) {
                    resultsDiv.innerHTML = `<p class="error">API Error (${response.status}): ${JSON.stringify(data.error, null, 2)}</p>`;
                    return;
                }

                if (data.models && data.models.length > 0) {
                    const modelNames = data.models.map(m => m.name);
                    let html = `<p class="success">Successfully retrieved ${modelNames.length} models!</p>`;

                    if (modelNames.includes('models/gemini-1.5-flash')) {
                        html += '<p class="success" style="font-weight: bold;">✅ You HAVE access to models/gemini-1.5-flash!</p>';
                    } else {
                        html += '<p class="error" style="font-weight: bold;">❌ You DO NOT have access to models/gemini-1.5-flash.</p>';
                    }

                    if (modelNames.includes('models/gemini-2.0-flash')) {
                        html += '<p class="success" style="font-weight: bold;">✅ You HAVE access to models/gemini-2.0-flash!</p>';
                    } else {
                        html += '<p class="error" style="font-weight: bold;">❌ You DO NOT have access to models/gemini-2.0-flash.</p>';
                    }

                    html += `<h3>Full List of Supported Models:</h3><pre>${modelNames.join('\\n')}</pre>`;
                    resultsDiv.innerHTML = html;
                } else {
                    resultsDiv.innerHTML = '<p class="error">No models returned for this API key.</p>';
                }
            } catch (err) {
                resultsDiv.innerHTML = `<p class="error">Network Error: ${err.message}</p>`;
            }
        }
    </script>
</body>

</html>